# üîê Environment Variables Setup Guide

Quick guide for setting up your `.env` file.

## üìã Quick Setup

### 1. Copy the example file

```bash
cp .env.example .env
```

### 2. Required API Keys

Edit `.env` and add your API keys:

#### **OpenAI API** (Required for Whisper + GPT-4)
```env
OPENAI_API_KEY=sk-proj-your-key-here
```
Get your key: https://platform.openai.com/api-keys

#### **ElevenLabs API** (Optional - for Scribe v2)
```env
ELEVENLABS_API_KEY=sk_your-key-here
```
Get your key: https://elevenlabs.io/app/settings/api-keys

#### **NextAuth Secret** (Required for authentication)
```bash
# Generate a secure random secret
openssl rand -base64 32
```

```env
NEXTAUTH_SECRET=<paste-generated-secret-here>
```

## üîë Available API Keys

### Core Services (Required)

| Variable | Service | Used For | Priority |
|----------|---------|----------|----------|
| `OPENAI_API_KEY` | OpenAI | Whisper transcription + GPT-4 analysis | üî¥ Required |
| `NEXTAUTH_SECRET` | NextAuth | JWT signing & authentication | üî¥ Required |

### Optional Services

| Variable | Service | Used For | Priority |
|----------|---------|----------|----------|
| `ELEVENLABS_API_KEY` | ElevenLabs | Scribe v2 real-time transcription | üü° Optional |
| `ANTHROPIC_API_KEY` | Anthropic | Claude AI integration | üü¢ Optional |
| `OPENROUTER_API_KEY` | OpenRouter | Multi-model access | üü¢ Optional |

### Payment Integration (Optional)

| Variable | Service | Used For | Priority |
|----------|---------|----------|----------|
| `STRIPE_SECRET_KEY` | Stripe | Payment processing | üü° Optional |
| `STRIPE_WEBHOOK_SECRET` | Stripe | Webhook validation | üü° Optional |
| `PADDLE_API_KEY` | Paddle | Alternative payments | üü¢ Optional |

## ‚úÖ Verification

### Check if keys are loaded

```bash
# Test ElevenLabs API
node test-elevenlabs-api.js user

# Test OpenAI API (through Next.js)
npm run dev
# Then visit http://localhost:3000
```

### Common Issues

#### "API key not found"
```bash
# Make sure .env file exists
ls -la .env

# Check if key is set
cat .env | grep ELEVENLABS_API_KEY
```

#### "dotenv not found"
```bash
npm install dotenv --save
```

## üîí Security Checklist

- [ ] `.env` file is in `.gitignore` ‚úÖ
- [ ] Never commit API keys to git
- [ ] Use different keys for dev/prod
- [ ] Rotate keys regularly
- [ ] Don't share keys in chat/email
- [ ] Use test keys for development

## üìù Example .env File

```env
# ============================================
# REQUIRED - Application won't work without these
# ============================================

# NextAuth (generate with: openssl rand -base64 32)
NEXTAUTH_SECRET=your-32-char-random-secret-here
NEXTAUTH_URL=http://localhost:3000

# Database
DATABASE_URL=./storage/orator.sqlite

# OpenAI (required for Whisper + GPT-4)
OPENAI_API_KEY=sk-proj-your-key-here

# ============================================
# OPTIONAL - Advanced features
# ============================================

# ElevenLabs (for Scribe v2 real-time transcription)
ELEVENLABS_API_KEY=sk_your-key-here

# Stripe (for payments)
STRIPE_SECRET_KEY=sk_test_your-key
STRIPE_PUBLISHABLE_KEY=pk_test_your-key
STRIPE_WEBHOOK_SECRET=whsec_your-secret

# ============================================
# APPLICATION SETTINGS
# ============================================

NEXT_PUBLIC_BASE_URL=http://localhost:3000
NODE_ENV=development
TRANSCRIPTION_MODEL=whisper
```

## üöÄ Quick Start Commands

```bash
# 1. Setup environment
cp .env.example .env
nano .env  # Edit and add your keys

# 2. Install dependencies
npm install

# 3. Test API keys
node test-elevenlabs-api.js user

# 4. Run development server
npm run dev
```

## üìö More Information

- [SECURITY_AUDIT_REPORT.md](./SECURITY_AUDIT_REPORT.md) - Security audit details
- [TEST_SCRIPTS_README.md](./TEST_SCRIPTS_README.md) - Testing guide
- [docs/SETUP.md](./docs/SETUP.md) - Complete setup guide

## üÜò Getting Help

If you need API keys:

- **OpenAI:** https://platform.openai.com/api-keys
- **ElevenLabs:** https://elevenlabs.io/app/settings/api-keys
- **Stripe:** https://dashboard.stripe.com/test/apikeys

For issues, check [docs/SETUP.md](./docs/SETUP.md) troubleshooting section.
