# üîß –ü—Ä–æ–±–ª–µ–º—ã —Å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–µ–π –∏ —Ä–µ—à–µ–Ω–∏—è

## –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. ‚ùå Scribe API –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç WebM —Ñ–∞–π–ª—ã

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –§–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∫–∞–∫ `.webm` (WebRTC –∑–∞–ø–∏—Å—å)
- Scribe API —Ç—Ä–µ–±—É–µ—Ç **PCM 16kHz** —Ñ–æ—Ä–º–∞—Ç
- –¢–µ–∫—É—â–∏–π –∫–æ–¥ –ø—ã—Ç–∞–µ—Ç—Å—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å raw webm —Ñ–∞–π–ª ‚Üí **–æ—à–∏–±–∫–∞**

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ —Ñ–∞–π–ª–∞ –≤ `scribe-service.ts`
- ‚úÖ –í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è —è–≤–Ω–∞—è –æ—à–∏–±–∫–∞ —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π –ø–æ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
- ‚ö†Ô∏è **TODO**: –î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é webm ‚Üí PCM 16kHz

**–í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:**
```bash
# –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å webm –≤ PCM 16kHz –ø–µ—Ä–µ–¥ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–µ–π
ffmpeg -i input.webm -ar 16000 -ac 1 -f s16le output.pcm
```

---

### 2. ‚ö†Ô∏è Whisper API: timestamp_granularities –º–æ–∂–µ—Ç –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ö–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `timestamp_granularities: ['word']` –¥–ª—è word-level timestamps
- –≠—Ç–∞ –æ–ø—Ü–∏—è –º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –≤–µ—Ä—Å–∏—è—Ö API

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω fallback: –µ—Å–ª–∏ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–æ—Å—Ç–æ–π —Ñ–æ—Ä–º–∞—Ç
- ‚úÖ –ö–æ–¥ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ–±–æ–∏—Ö —Å–ª—É—á–∞—è—Ö

---

### 3. ‚úÖ Whisper –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç WebM

**–•–æ—Ä–æ—à–∏–µ –Ω–æ–≤–æ—Å—Ç–∏:**
- OpenAI Whisper API –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç WebM —Ñ–∞–π–ª—ã
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `.webm` —Ñ–∞–π–ª—ã –Ω–∞–ø—Ä—è–º—É—é —Å Whisper
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Whisper –¥–ª—è WebM —Ñ–∞–π–ª–æ–≤

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è WebM —Ñ–∞–π–ª–æ–≤ (—Ç–µ–∫—É—â–∏–π —Ñ–æ—Ä–º–∞—Ç –∑–∞–ø–∏—Å–∏):
1. ‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Whisper** - —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏
2. ‚ùå **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Scribe** - —Ç—Ä–µ–±—É–µ—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤ PCM

### –î–ª—è Scribe —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏:
1. –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–π—Ç–µ WebM ‚Üí PCM 16kHz –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º API
2. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏

---

## –ü–ª–∞–Ω—ã –Ω–∞ –±—É–¥—É—â–µ–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∞—É–¥–∏–æ
- [ ] –î–æ–±–∞–≤–∏—Ç—å ffmpeg –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å webm ‚Üí PCM –¥–ª—è Scribe
- [ ] –ö–µ—à–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –£–ª—É—á—à–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- [ ] –ë–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –Ω–∞ Whisper –µ—Å–ª–∏ Scribe –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ —Ñ–∞–π–ª–∞ –ø–µ—Ä–µ–¥ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–µ–π

---

## –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

| –ú–æ–¥–µ–ª—å | WebM –ø–æ–¥–¥–µ—Ä–∂–∫–∞ | –°—Ç–∞—Ç—É—Å |
|--------|---------------|--------|
| **Whisper** | ‚úÖ –î–∞ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| **Scribe** | ‚ùå –ù–µ—Ç (—Ç—Ä–µ–±—É–µ—Ç PCM) | ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ |

---

**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2024-11-15

