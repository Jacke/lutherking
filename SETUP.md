# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –∑–∞–ø—É—Å–∫—É Orator AI

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
- ‚úÖ **WebRTC –∑–∞–ø–∏—Å—å –∞—É–¥–∏–æ** –≤ –±—Ä–∞—É–∑–µ—Ä–µ —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π
- ‚úÖ **OpenAI Whisper API** –¥–ª—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏ —Ä–µ—á–∏
- ‚úÖ **GPT-4 –∞–Ω–∞–ª–∏–∑** —Ä–µ—á–∏ (clarity, tone, confidence, filler words)
- ‚úÖ **/api/eval endpoint** (–±—ã–ª –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –±–∞–≥ - —Ç–µ–ø–µ—Ä—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω!)
- ‚úÖ **/api/call/upload** –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∞—É–¥–∏–æ —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ü–æ–ª–Ω—ã–π E2E flow: –∑–∞–ø–∏—Å—å ‚Üí –∑–∞–≥—Ä—É–∑–∫–∞ ‚Üí –∞–Ω–∞–ª–∏–∑ ‚Üí —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

---

## üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. **Node.js 18+** –∏ npm
2. **OpenAI API –∫–ª—é—á** (–¥–ª—è Whisper + GPT-4)
   - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è: https://platform.openai.com/signup
   - API Keys: https://platform.openai.com/api-keys
   - –°—Ç–æ–∏–º–æ—Å—Ç—å: ~$0.006/–º–∏–Ω—É—Ç–∞ –¥–ª—è Whisper + ~$0.03/1K —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è GPT-4

---

## üîß –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
```

**–ù–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- `formidable` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ multipart/form-data
- `openai` - OpenAI API –∫–ª–∏–µ–Ω—Ç
- `@types/formidable` - TypeScript —Ç–∏–ø—ã

---

## üóÑÔ∏è –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã –≤ SQLite
npx drizzle-kit push:sqlite
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
ls -lh storage/orator.sqlite
# –§–∞–π–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –±–æ–ª—å—à–µ 0 –±–∞–π—Ç
```

---

## üîë –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω
cp .env.example .env

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .env
nano .env  # –∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π —Ä–µ–¥–∞–∫—Ç–æ—Ä
```

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**
```bash
# –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á
NEXTAUTH_SECRET=$(openssl rand -base64 32)
echo "NEXTAUTH_SECRET=$NEXTAUTH_SECRET" >> .env

# URL –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
NEXTAUTH_URL=http://localhost:3000

# OpenAI API –∫–ª—é—á (–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û!)
OPENAI_API_KEY=sk-your-key-here  # –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –∫–ª—é—á
```

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ (–¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π):**
```bash
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...
STRIPE_PUBLISHABLE_KEY=pk_test_...
```

---

## üèÉ –®–∞–≥ 4: –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
npm run dev
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ http://localhost:3000

---

## üß™ –®–∞–≥ 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ E2E flow

### 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
```
http://localhost:3000/register
```
- Email: test@example.com
- Password: password123

### 2. –î–æ–±–∞–≤–∏—Ç—å –∫—Ä–µ–¥–∏—Ç—ã (–≤—Ä–µ–º–µ–Ω–Ω–æ –≤—Ä—É—á–Ω—É—é)
```bash
# –û—Ç–∫—Ä—ã—Ç—å SQLite
sqlite3 storage/orator.sqlite

# –î–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é 10 –∫—Ä–µ–¥–∏—Ç–æ–≤
UPDATE users SET credits = 10 WHERE email = 'test@example.com';
.exit
```

### 3. –ù–∞—á–∞—Ç—å –∑–≤–æ–Ω–æ–∫
```
http://localhost:3000/dashboard
```
- –í—ã–±—Ä–∞—Ç—å –ª—é–±–æ–π —á–µ–ª–ª–µ–Ω–¥–∂
- –ù–∞–∂–∞—Ç—å "View" ‚Üí "Start Call"
- **–†–∞–∑—Ä–µ—à–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –º–∏–∫—Ä–æ—Ñ–æ–Ω—É!**

### 4. –ó–∞–ø–∏—Å–∞—Ç—å –∞—É–¥–∏–æ
- –ì–æ–≤–æ—Ä–∏—Ç—å –≤ –º–∏–∫—Ä–æ—Ñ–æ–Ω 10-30 —Å–µ–∫—É–Ω–¥
- –ù–∞–±–ª—é–¥–∞—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –∑–≤—É–∫–∞
- –ù–∞–∂–∞—Ç—å "–ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–≤–æ–Ω–æ–∫"

### 5. –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
```
http://localhost:3000/result?sessionId=<your-session-id>
```
- Clarity Score (0-100)
- Filler Words (—Å–ª–æ–≤–∞-–ø–∞—Ä–∞–∑–∏—Ç—ã)
- Tone (confident, nervous, etc.)
- Confidence (0-100)
- Highlights (3-5 –∑–∞–º–µ—á–∞–Ω–∏–π)
- Detailed Feedback

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
/storage/sessions/        # –ê—É–¥–∏–æ —Ñ–∞–π–ª—ã (webm)
  ‚îú‚îÄ‚îÄ {sessionId}.webm
  ‚îî‚îÄ‚îÄ ...

/storage/orator.sqlite    # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

/.env                     # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å!)
```

---

## üêõ –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: "Cannot find module 'formidable'"
**–†–µ—à–µ–Ω–∏–µ:**
```bash
npm install formidable @types/formidable
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: "OPENAI_API_KEY is not set"
**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å .env —Ñ–∞–π–ª
cat .env | grep OPENAI_API_KEY

# –ï—Å–ª–∏ –ø—É—Å—Ç–æ, –¥–æ–±–∞–≤–∏—Ç—å –∫–ª—é—á
echo "OPENAI_API_KEY=sk-your-key-here" >> .env
```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: "Microphone access denied"
**–†–µ—à–µ–Ω–∏–µ:**
- Chrome: Settings ‚Üí Privacy ‚Üí Site Settings ‚Üí Microphone ‚Üí Allow
- Firefox: Preferences ‚Üí Privacy & Security ‚Üí Permissions ‚Üí Microphone ‚Üí Allow
- Safari: Preferences ‚Üí Websites ‚Üí Microphone ‚Üí Allow

### –ü—Ä–æ–±–ª–µ–º–∞ 4: "Error: Cannot read properties of undefined (reading 'wavPath')"
**–†–µ—à–µ–Ω–∏–µ:**
–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ:
1. –ê—É–¥–∏–æ –±—ã–ª–æ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ `/storage/sessions/`)
2. –í –ë–î –µ—Å—Ç—å –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü–µ `sessions` —Å –ø–æ–ª–µ–º `wavPath`

```bash
sqlite3 storage/orator.sqlite
SELECT * FROM sessions ORDER BY startedAt DESC LIMIT 1;
```

### –ü—Ä–æ–±–ª–µ–º–∞ 5: "Whisper API error: Incorrect API key"
**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ API –∫–ª—é—á –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `sk-`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å –Ω–∞ https://platform.openai.com/account/usage
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∫–ª—é—á –Ω–µ –∏—Å—Ç—ë–∫

### –ü—Ä–æ–±–ª–µ–º–∞ 6: "File too large"
**–†–µ—à–µ–Ω–∏–µ:**
- –¢–µ–∫—É—â–∏–π –ª–∏–º–∏—Ç: 50MB
- –ò–∑–º–µ–Ω–∏—Ç—å –≤ `/pages/api/call/upload.ts`:
```typescript
maxFileSize: 100 * 1024 * 1024, // 100MB
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏

### –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
```bash
# –°–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
npm run dev

# –ö–ª—é—á–µ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è:
# - "Call session started: {sessionId}"
# - "Audio uploaded successfully: {path}"
# - "Starting evaluation for session {sessionId}"
# - "Evaluation completed for session {sessionId}"
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ API endpoints

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ /api/eval —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
curl -X POST http://localhost:3000/api/eval \
  -H "Content-Type: application/json" \
  -d '{"sessionId": "test"}'

# –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å 404 "Session not found" (—ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ)
# –ï—Å–ª–∏ 404 "Not Found" - endpoint –Ω–µ –Ω–∞–π–¥–µ–Ω
```

---

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å OpenAI API

**Whisper API:**
- $0.006 –∑–∞ –º–∏–Ω—É—Ç—É –∞—É–¥–∏–æ
- –ü—Ä–∏–º–µ—Ä: 10 –º–∏–Ω—É—Ç = $0.06

**GPT-4 Turbo:**
- $0.01 –∑–∞ 1K –≤—Ö–æ–¥—è—â–∏—Ö —Ç–æ–∫–µ–Ω–æ–≤
- $0.03 –∑–∞ 1K –∏—Å—Ö–æ–¥—è—â–∏—Ö —Ç–æ–∫–µ–Ω–æ–≤
- –ü—Ä–∏–º–µ—Ä: –∞–Ω–∞–ª–∏–∑ 5-–º–∏–Ω—É—Ç–Ω–æ–π —Ä–µ—á–∏ ‚âà $0.02-0.05

**–ò—Ç–æ–≥–æ:** ~$0.10 –∑–∞ –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª (–∑–∞–ø–∏—Å—å + –∞–Ω–∞–ª–∏–∑ 5-–º–∏–Ω—É—Ç–Ω–æ–π —Ä–µ—á–∏)

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

**–ü–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º –≤ production:**

1. ‚úÖ –ò–∑–º–µ–Ω–∏—Ç—å `NEXTAUTH_SECRET` –Ω–∞ —Å–ª—É—á–∞–π–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
2. ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTTPS (–Ω–µ HTTP)
3. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å rate limiting –Ω–∞ API endpoints
4. ‚úÖ –•—Ä–∞–Ω–∏—Ç—å –∞—É–¥–∏–æ —Ñ–∞–π–ª—ã –≤ S3/R2 (–Ω–µ –ª–æ–∫–∞–ª—å–Ω–æ)
5. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CORS –ø—Ä–∞–≤–∏–ª—å–Ω–æ
6. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (zod/yup)
7. ‚úÖ –ù–µ –∫–æ–º–º–∏—Ç–∏—Ç—å `.env` —Ñ–∞–π–ª!

---

## üöÄ Next Steps

1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π E2E flow
2. **Seed –¥–∞–Ω–Ω—ã–µ:** –î–æ–±–∞–≤–∏—Ç—å —á–µ–ª–ª–µ–Ω–¥–∂–∏ –≤ –ë–î
3. **–ü–ª–∞—Ç–µ–∂–∏:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å Stripe –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é
4. **UI/UX:** –£–ª—É—á—à–∏—Ç—å –¥–∏–∑–∞–π–Ω —Å—Ç—Ä–∞–Ω–∏—Ü
5. **–î–µ–ø–ª–æ–π:** Railway/Vercel

---

## üìù Changelog

### Version 0.2.0 (—Å–µ–≥–æ–¥–Ω—è)
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ WebRTC –∞—É–¥–∏–æ –∑–∞–ø–∏—Å—å
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω OpenAI Whisper API
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω GPT-4 –∞–Ω–∞–ª–∏–∑ —Ä–µ—á–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω `/api/eval` endpoint (–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –ë–ê–ì –ò–°–ü–†–ê–í–õ–ï–ù!)
- ‚úÖ –°–æ–∑–¥–∞–Ω `/api/call/upload` endpoint
- ‚úÖ –£–±—Ä–∞–Ω—ã —Ñ–µ–π–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (`FAKE_WAV_DATA`)
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ Drizzle ORM
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `.env.example` —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π

### Version 0.1.0 (–ø—Ä–µ–¥—ã–¥—É—â–∞—è)
- ‚úÖ Next.js 14 + TypeScript
- ‚úÖ Drizzle ORM + SQLite
- ‚úÖ NextAuth authentication
- ‚úÖ Stripe/Paddle –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (–∑–∞–≥–ª—É—à–∫–∏)
- ‚úÖ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

---

**–í–æ–ø—Ä–æ—Å—ã?** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- `/TODO.md` - –ø–æ–ª–Ω—ã–π —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞
- `/CLAUDE.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- `/README.md` - –æ–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

**–£–¥–∞—á–∏! üé§üöÄ**
